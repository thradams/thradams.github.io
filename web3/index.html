<!DOCTYPE html>
<html>
<head>
  
    <link rel="stylesheet" href="default.min.css">
    <script src="highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
     <link rel="stylesheet" href="style.css" />
</head>
<body>
<p><a href="index.html">Home</a> | <a href="manual.html">Manual</a> | <a href="playground.html">Playground</a></p>
<h1>Cake</h1>
<ul>
<li>
<a href="#toc_0">Description</a>
</li>
<li>
<a href="#toc_1">Web Playground</a>
</li>
<li>
<a href="#toc_2">Features</a>
</li>
<li>
<a href="#toc_3">Build</a>
<ul>
<li>
<a href="#toc_4">Windows</a>
</li>
<li>
<a href="#toc_5">Linux</a>
</li>
<li>
<a href="#toc_6">Build web</a>
</li>
</ul>
</li>
<li>
<a href="#toc_7">Command line</a>
</li>
<li>
<a href="#toc_8">Road map</a>
</li>
<li>
<a href="#toc_9">References</a>
</li>
<li>
<a href="#toc_10">Influenced by</a>
</li>
<li>
<a href="#toc_11">Status?</a>
</li>
<li>
<a href="#toc_12">How cake is tested?</a>
</li>
</ul>
<h1 id="toc_0">Description</h1>

<p>Cake is a C23 compiler frond end written from scratch in C.</p>

<p>The compiler can be used to translate new versions of C (like C23)
to C99.</p>

<p>It also can be used to try out new features for the C language. </p>

<p>Extensions like lambdas,  defer and more where implemented.</p>

<h1 id="toc_1">Web Playground</h1>

<p>This is the best way to try.</p>

<p><a href="http://thradams.com/web3/playground.html">http://thradams.com/web3/playground.html</a></p>

<h1 id="toc_2">Features</h1>

<ul>
<li>C23 preprocessor</li>
<li>syntax analisys</li>
<li>semantic analisys</li>
<li>c backend</li>
<li>Builds AST </li>
</ul>

<h1 id="toc_3">Build</h1>

<h2 id="toc_4">Windows</h2>

<p>Open the Developer Command Prompt of visual studio. Go to the src directoy and type</p>

<pre><code>cl build.c &amp;&amp; build
</code></pre>

<p>This will build <code>cake.exe</code>.</p>

<h2 id="toc_5">Linux</h2>

<p>Got to the <code>src</code> directory and type:</p>

<pre><code>gcc build.c -o build &amp;&amp; ./build
</code></pre>

<p>To run unit tests windows/linux add <code>-DTEST</code> for instance:</p>

<pre><code>gcc -DTEST build.c -o build &amp;&amp; ./build
</code></pre>

<h2 id="toc_6">Build web</h2>

<p>emscriptem <a href="https://emscripten.org/">https://emscripten.org/</a>  is required. </p>

<p>First do the normal build. </p>

<p>The normal build also generates a file <code>lib.c</code> that is the amalgameted  version of the &quot;core lib&quot;.</p>

<p>Then at <code>./src</code> dir type:</p>

<pre><code>call emcc -DMOCKFILES &quot;lib.c&quot; -o &quot;Web\cake.js&quot; -s WASM=0 -s EXPORTED_FUNCTIONS=&quot;[&#39;_CompileText&#39;]&quot; -s EXTRA_EXPORTED_RUNTIME_METHODS=&quot;[&#39;ccall&#39;, &#39;cwrap&#39;]&quot;
</code></pre>

<p>This will generate the cake.js</p>

<h1 id="toc_7">Command line</h1>

<p>Make sure cake is on your system path.</p>

<p>Samples</p>

<pre><code>cake source.c
</code></pre>

<p>this will ouput <code>./out/source.c</code></p>

<p>See <a href="manual.html">Manual</a></p>

<h1 id="toc_8">Road map</h1>

<ul>
<li>Complete semantic analisys</li>
<li>Static analysis</li>
<li>Backend, maybe qbe <a href="https://c9x.me/compile/">QBE</a></li>
</ul>

<h1 id="toc_9">References</h1>

<p>A copy of each C standard draft in included in <code>docs</code> folder. The parser is based on C23.</p>

<h1 id="toc_10">Influenced by</h1>

<ul>
<li>Typescript</li>
<li>Small C compilers</li>
</ul>

<h1 id="toc_11">Status?</h1>

<p>Even if not necessary for most features, I want Cake to make a full semantic analysis.</p>

<p>It is necessary more work it is not complete yet.</p>

<p>One thing that is missing is check for type compatibility  for instance when
calling a function void F(int i) with F(1.2);</p>

<h1 id="toc_12">How cake is tested?</h1>

<p>I am using Visual Studio 2022 IDE to write/debug cake source. Cake is parsing itself using
the includes of MSVC and it generates the <code>out</code> dir after build.</p>

<p>Cake source code is not using any extension so the output is the same of input. 
This compilation is usefull for tracking errors.</p>

<p>Cake uses unit tests that are called automatically.</p>
</body></html>